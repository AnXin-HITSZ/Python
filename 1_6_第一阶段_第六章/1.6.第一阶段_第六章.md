# 第一阶段 - 第六章

**目录：**

[TOC]

---

## 一、数据容器入门

数据容器可以优雅、高效地通过一个变量完成记录多份数据的任务，即一个容器可以容纳多份数据。

学习数据容器，就是为了批量存储或批量使用多份数据。

Python 中的数据容器是一种可以容纳多份数据的数据类型，容纳的每一份数据称之为 1 个元素，每一个元素可以是任意类型的数据，如字符串、数字、布尔等。数据容器如下图所示：
![](./images/20251001165320.png)

数据容器根据特点的不同，如是否支持重复元素、是否可以修改、是否有序等，分为 5 类，分别是：列表（`list`）、元组（`tuple`）、字符串（`str`）、集合（`set`）、字典（`dict`）。它们各有特点，但都满足可容纳多个元素的特性。

## 二、列表（list）

### 2.1 列表的定义语法

列表（`list`）类型，是数据容器的一类。

列表的定义的基本语法：
```python
# 字面量
[元素 1, 元素 2, 元素 3, 元素 4, ...]

# 定义变量
变量名称 = [元素 1, 元素 2, 元素 3, 元素 4 ...]

# 定义空列表
变量名称 = []
变量名称 = list()
```

列表内的每一个数据，称之为元素。

> 注意：
> * 列表以 `[]` 作为标识；
> * 列表内每一个元素之间用逗号（`,`）隔开。

列表可以一次存储多个数据，且可以为不同的数据类型，支持嵌套。

> 注意：列表内的元素的数据类型没有任何限制，甚至元素也可以是列表，这样就定义了嵌套列表。

示例代码 1：
```python
name_list = ['itheima', 'itcast', 'python']
print(name_list)
print(type(name_list))
```
输出结果：
```python
['itheima', 'itcast', 'python']
<class 'list'>
```

示例代码 2：
```python
my_list = ['itheima', 666, True]
print(my_list)
print(type(my_list))
```
输出结果：
```python
['itheima', 666, True]
<class 'list'>
```

示例代码 3：
```python
# 嵌套列表的定义
my_list = [[1, 2, 3], [4, 5, 6]]
print(my_list)
print(type(my_list))
```
输出结果：
```python
[[1, 2, 3], [4, 5, 6]]
<class 'list'>
```

### 2.2 列表的下标索引

我们可以使用下标索引从列表中取出特定位置的数据。

![](./images/20251002151837.png)

如上图所示，列表中的每一个元素，都有其位置下标索引；从前向后的方向，位置下标索引从 0 开始，且依次递增。

我们只需要按照下标索引，即可取得对应位置的元素：
```python
列表[下标索引]
```
示例代码：
```python
# 语法：列表[下标索引]

name_list = ['Tom', 'Lily', 'Rose']
print(name_list[0]) # 结果：Tom
print(name_list[1]) # 结果：Lily
print(name_list[2]) # 结果：Rose
```

或者，可以使用反向索引，也就是从后向前的方向，位置下标索引从 -1 开始，依次递减（-1、-2、-3 ……）

![](./images/20251002152450.png)

如上图所示，从后向前，下标索引为 -1、-2、-3 ……，且依次递减。

我们也只需要按照下标索引，即可取得对应位置的元素：
```python
列表[标号]
```
示例代码：
```python
# 语法：列表[标号]

name_list = ['Tom', 'Lily', 'Rose']
print(name_list[-1])    # 结果：Rose
print(name_list[-2])    # 结果：Lily
print(name_list[-3])    # 结果：Tom
```

如果列表是嵌套的列表，同样支持下标索引：
![](./images/20251002153030.png)

如上图所示，下标就有 2 个层级了：
```python
# 2 层嵌套 list
my_list = [[1, 2, 3], [4, 5, 6]]

# 获取内层第一个 list
print(my_list[0])   # 结果：[1, 2, 3]

# 获取内层第一个 list 的第一个元素
print(my_list[0][0])    # 结果：1
```

> 下标索引的注意事项：要注意下标索引的取值范围，超出范围无法取出元素，并且会报错。

### 2.3 列表的常用操作方法

列表除了可以定义、使用下标索引获取值以外，列表也提供了插入元素、删除元素、清空列表、修改元素、统计元素个数等等一系列功能，这些功能我们都称之为列表的方法。

列表的方法 - 总览：
| 编号 | 使用方式 | 作用 |
| :--: | :--: | :--: |
| 1 | `列表.append(元素)` | 向列表中追加一个元素 |
| 2 | `列表.extend(容器)` | 将数据容器的内容依次取出，追加到列表尾部 |
| 3 | `列表.insert(下标, 元素)` | 在指定下标处，插入指定的元素 |
| 4 | `del 列表[下标]` | 删除列表指定下标元素 |
| 5 | `列表.pop(下标)` | 删除列表指定下标元素 |
| 6 | `列表.remove(元素)` | 从前向后，删除此元素第一个匹配项 |
| 7 | `列表.clear()` | 清空列表 |
| 8 | `列表.count(元素)` | 统计此元素在列表中出现的次数 |
| 9 | `列表.index(元素)` | 查找指定元素在列表的下标，找不到报错 `ValueError` |
| 10 | `len(列表)` | 统计容器内有多少元素 |

回忆：函数是一个封装的代码单元，可以提供特定功能。

在 Python 中，如果将函数定义为 `class`（类）的成员，那么函数会称之为方法：
![](./images/20251002155136.png)

方法和函数功能一样，有传入参数，有返回值，只是方法的使用格式不同：
* 函数的使用：
    ```python
    num = add(1, 2)
    ```
* 方法的使用：
    ```python
    student = Student()
    num = student.add(1, 2)
    ```

关于类和方法的定义，在面向对象章节我们学习，目前我们知道如何使用方法即可。

#### 2.3.1 列表的查询功能（方法）

查找某元素的下标：
* 功能：查找指定元素在列表的下标，如果找不到，报错 `ValueError`。
* 语法：`列表.index(元素)`。
> `index` 就是列表对象（变量）内置的方法（函数）。
* 示例代码：
    ```python
    my_list = ["itheima", "itcast", "python"]
    print(my_list.index("itcast"))  # 结果：1
    ```

#### 2.3.2 列表的修改功能（方法）

修改特定位置（索引）的元素值：
* 功能：直接对指定下标（正向、反向下标均可）的值进行重新赋值（修改）。
* 语法：`列表[下标] = 值`。
* 示例代码：
    ```python
    # 正向下标
    my_list = [1, 2, 3]
    my_list[0] = 5
    print(my_list)  # 结果：[5, 2, 3]

    # 反向下标
    my_list = [1, 2, 3]
    my_list[-3] = 5
    print(my_list)  # 结果：[5, 2, 3]
    ```

插入元素：
* 功能：在指定的下标位置，插入指定的元素。
* 语法：`列表.insert(下标, 元素)`。
* 示例代码：
    ```python
    my_list = [1, 2, 3]
    my_list.insert(1, "itheima")
    print(my_list)  # 结果：[1, "itheima", 3, 4]
    ```

追加元素：
* 方式 1：
  * 功能：将指定元素，追加到列表的尾部。
  * 语法：`列表.append(元素)`。
  * 示例代码：
    ```python
    my_list = [1, 2, 3]
    my_list.append(4)
    print(my_list)  # 结果：[1, 2, 3, 4]

    my_list = [1, 2, 3]
    my_list.append([4, 5, 6])
    print(my_list)  # 结果：[1, 2, 3, [4, 5, 6]]
    ```
* 方式 2：
  * 功能：将其他数据容器的内容取出，依次追加到列表尾部。
  * 语法：`列表.extend(其他数据容器)`。
  * 示例代码：
    ```python
    my_list = [1, 2, 3]
    my_list.extend([4, 5, 6])
    print(my_list)  # 结果：[1, 2, 3, 4, 5, 6]
    ```

删除元素：
* 语法 1：`del 列表[下标]`。
  * 示例代码：
    ```python
    my_list = [1, 2, 3]

    # 方式 1
    del my_list[0]
    print(my_list)  # 结果：[2, 3]
    ```
* 语法 2：`element = 列表.pop(下标)`。
  * 示例代码：
    ```python
    my_list = [1, 2, 3]

    # 方式 2
    my_list.pop(0)
    print(my_list)  # 结果：[2, 3]
    ```

删除某元素在列表中的第一个匹配项：
* 语法：`列表.remove(元素)`。
* 示例代码：
    ```python
    my_list = [1, 2, 3, 2, 3]
    my_list.remove(2)
    print(my_list)  # 结果：[1, 3, 2, 3]
    ```

清空列表内容：
* 语法：`列表.clear()`。
* 示例代码：
    ```python
    my_list = [1, 2, 3]
    my_list.clear()
    print(my_list)  # 结果：[]
    ```

#### 2.3.3 列表的查询功能（方法）

统计某元素在列表内的数量：
* 语法：`列表.count(元素)`。
* 示例代码：
    ```python
    my_list = [1, 1, 1, 2, 3]
    print(my_list.count(1)) # 结果：3
    ```

统计列表内有多少元素：
* 功能：可以得到一个 `int` 数字，表示列表内的元素数量。
* 语法：`len(列表)`。
* 示例代码：
```python
my_list = [1, 2, 3, 4, 5]
print(len(my_list)) # 结果：5
```

### 2.4 列表总结

经过上述对列表的学习，可以总结出列表有如下特点：
* 可以容纳多个元素（上限为 2 ** 63 - 1，即 9223372036854775807 个）；
* 可以容纳不同类型的元素（混装）；
* 数据是有序存储的（有下标序号）；
* 允许重复数据存在；
* 可以修改（增加或删除元素等）。